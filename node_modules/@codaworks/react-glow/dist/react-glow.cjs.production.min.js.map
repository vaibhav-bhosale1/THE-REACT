{"version":3,"file":"react-glow.cjs.production.min.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { CSSProperties, useEffect, useRef } from 'react'\r\nimport { GlowCaptureProps, GlowProps } from './index.types'\r\n\r\nexport const GlowCapture = (props: GlowCaptureProps) => {\r\n    const {\r\n        className = '',\r\n        size = 400,\r\n        ...rest\r\n    } = props\r\n\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        const move = (e: PointerEvent) => {\r\n            if (e.pointerType === 'mouse') {\r\n                requestAnimationFrame(() => {\r\n                    if (!element.current)\r\n                        return\r\n\r\n                    const bounds = element.current.getBoundingClientRect()\r\n\r\n                    const x = e.clientX - bounds.left\r\n                    const y = e.clientY - bounds.top\r\n\r\n                    element.current.style.setProperty('--glow-x', `${x}px`)\r\n                    element.current.style.setProperty('--glow-y', `${y}px`)\r\n                })\r\n            }\r\n        }\r\n\r\n        const leave = () => {\r\n            element.current?.style.removeProperty('--glow-x')\r\n            element.current?.style.removeProperty('--glow-y')\r\n        }\r\n\r\n        element.current?.addEventListener('pointermove', move, { passive: true })\r\n        element.current?.addEventListener('pointerleave', leave, { passive: true })\r\n        return () => {\r\n            element.current?.removeEventListener('pointermove', move)\r\n            element.current?.removeEventListener('pointerleave', leave)\r\n        }\r\n    }, [])\r\n\r\n    return <div ref={element}\r\n        className={`glow-capture ${className}`}\r\n        style={{\r\n            position: 'relative',\r\n            '--glow-size': `${size}px`\r\n        } as CSSProperties}\r\n        {...rest} />\r\n}\r\n\r\n\r\nconst mask = `\r\nradial-gradient(var(--glow-size) var(--glow-size) at calc(var(--glow-x, -99999px) - var(--glow-left, 0px))\r\ncalc(var(--glow-y, -99999px) - var(--glow-top, 0px)), #000000 1%, transparent 50%)\r\n`\r\n\r\n\r\nexport const Glow = (props: GlowProps) => {\r\n\r\n    const {\r\n        className = '',\r\n        style,\r\n        children,\r\n        color = '#f50057',\r\n        debug = false,\r\n        ...rest\r\n    } = props\r\n\r\n\r\n    const element = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n        element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n    })\r\n\r\n    useEffect(() => {\r\n        const observer = new ResizeObserver(() => {\r\n            requestAnimationFrame(() => {\r\n                element.current?.style.setProperty('--glow-top', `${element.current?.offsetTop}px`)\r\n                element.current?.style.setProperty('--glow-left', `${element.current?.offsetLeft}px`)\r\n            })\r\n        })\r\n\r\n        const capture = element.current?.closest('.glow-capture')\r\n        if (capture)\r\n            observer.observe(capture)\r\n\r\n\r\n        return () => observer.disconnect()\r\n    }, [])\r\n\r\n    return <div ref={element} className='glow' style={{ display: 'grid' }}>\r\n        <div className={className}\r\n            style={{\r\n                ...style,\r\n                gridArea: '1/1/1/1'\r\n            }}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n        <div className={`glow-mask ${className}`}\r\n            // @ts-ignore\r\n            glow='true'\r\n            style={{\r\n                ...style,\r\n                '--glow-color': color,\r\n                gridArea: '1/1/1/1',\r\n                pointerEvents: 'none',\r\n                mask: debug ? undefined : mask,\r\n                WebkitMask: debug ? undefined : mask\r\n            } as CSSProperties}\r\n            {...rest}>\r\n            {children}\r\n        </div>\r\n    </div>\r\n}\r\n"],"names":["mask","props","_props$className2","className","style","children","_props$color","color","_props$debug","debug","rest","_objectWithoutPropertiesLoose","_excluded2","element","useRef","useEffect","_element$current7","current","setProperty","_element$current8","offsetTop","_element$current9","_element$current10","offsetLeft","observer","ResizeObserver","requestAnimationFrame","_element$current11","_element$current12","_element$current13","_element$current14","capture","_element$current15","closest","observe","disconnect","React","ref","display","_extends","gridArea","glow","--glow-color","pointerEvents","undefined","WebkitMask","_props$className","_props$size","size","_excluded","move","e","pointerType","bounds","getBoundingClientRect","y","clientY","top","clientX","left","leave","_element$current","removeProperty","_element$current2","_element$current3","addEventListener","passive","_element$current4","_element$current5","removeEventListener","_element$current6","position","--glow-size"],"mappings":";ykBAqDMA,oNAMc,SAACC,GAEjB,IAAAC,EAOID,EANAE,UAAAA,WAASD,EAAG,GAAEA,EACdE,EAKAH,EALAG,MACAC,EAIAJ,EAJAI,SAAQC,EAIRL,EAHAM,MAAAA,WAAKD,EAAG,UAASA,EAAAE,EAGjBP,EAFAQ,MAAAA,WAAKD,GAAQA,EACVE,EAAIC,EACPV,EAAKW,GAGHC,EAAUC,SAAuB,MAuBvC,OArBAC,aAAU,8BACNC,EAAAH,EAAQI,UAARD,EAAiBZ,MAAMc,YAAY,qBAAYC,EAAKN,EAAQI,gBAARE,EAAiBC,wBACrEC,EAAAR,EAAQI,UAARI,EAAiBjB,MAAMc,YAAY,sBAAaI,EAAKT,EAAQI,gBAARK,EAAiBC,qBAG1ER,aAAU,iBACAS,EAAW,IAAIC,gBAAe,WAChCC,uBAAsB,8BAClBC,EAAAd,EAAQI,UAARU,EAAiBvB,MAAMc,YAAY,qBAAYU,EAAKf,EAAQI,gBAARW,EAAiBR,wBACrES,EAAAhB,EAAQI,UAARY,EAAiBzB,MAAMc,YAAY,sBAAaY,EAAKjB,EAAQI,gBAARa,EAAiBP,wBAIxEQ,SAAOC,EAAGnB,EAAQI,gBAARe,EAAiBC,QAAQ,iBAKzC,OAJIF,GACAP,EAASU,QAAQH,GAGd,WAAA,OAAMP,EAASW,gBACvB,IAEIC,uBAAKC,IAAKxB,EAASV,UAAU,OAAOC,MAAO,CAAEkC,QAAS,SACzDF,qCAAKjC,UAAWA,EACZC,MAAKmC,KACEnC,GACHoC,SAAU,aAEV9B,GACHL,GAEL+B,qCAAKjC,uBAAwBA,EAEzBsC,KAAK,OACLrC,MAAKmC,KACEnC,GACHsC,eAAgBnC,EAChBiC,SAAU,UACVG,cAAe,OACf3C,KAAMS,OAAQmC,EAAY5C,EAC1B6C,WAAYpC,OAAQmC,EAAY5C,KAEhCU,GACHL,yBAhHc,SAACJ,GACxB,IAAA6C,EAII7C,EAHAE,UAAAA,WAAS2C,EAAG,GAAEA,EAAAC,EAGd9C,EAFA+C,KAAAA,WAAID,EAAG,IAAGA,EACPrC,EAAIC,EACPV,EAAKgD,GAEHpC,EAAUC,SAAuB,MAiCvC,OA/BAC,aAAU,mBACAmC,EAAO,SAACC,GACY,UAAlBA,EAAEC,aACF1B,uBAAsB,WAClB,GAAKb,EAAQI,QAAb,CAGA,IAAMoC,EAASxC,EAAQI,QAAQqC,wBAGzBC,EAAIJ,EAAEK,QAAUH,EAAOI,IAE7B5C,EAAQI,QAAQb,MAAMc,YAAY,WAHxBiC,EAAEO,QAAUL,EAAOM,WAI7B9C,EAAQI,QAAQb,MAAMc,YAAY,WAAeqC,aAKvDK,EAAQ,0BACVC,EAAAhD,EAAQI,UAAR4C,EAAiBzD,MAAM0D,eAAe,mBACtCC,EAAAlD,EAAQI,UAAR8C,EAAiB3D,MAAM0D,eAAe,aAK1C,cAFAE,EAAAnD,EAAQI,UAAR+C,EAAiBC,iBAAiB,cAAef,EAAM,CAAEgB,SAAS,WAClEC,EAAAtD,EAAQI,UAARkD,EAAiBF,iBAAiB,eAAgBL,EAAO,CAAEM,SAAS,IAC7D,0BACHE,EAAAvD,EAAQI,UAARmD,EAAiBC,oBAAoB,cAAenB,UACpDoB,EAAAzD,EAAQI,UAARqD,EAAiBD,oBAAoB,eAAgBT,MAE1D,IAEIxB,qCAAKC,IAAKxB,EACbV,0BAA2BA,EAC3BC,MAAO,CACHmE,SAAU,WACVC,cAAkBxB,SAElBtC"}